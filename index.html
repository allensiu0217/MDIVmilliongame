<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¥å­¸ç™¾è¬å¯Œç¿ - ç¶“å…¸é›»è¦–ç‰ˆ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@400;700&display=swap');
        
        body {
            font-family: 'Noto Serif TC', serif;
            background: radial-gradient(circle at center, #000b58 0%, #000000 80%);
            color: #fff;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            overflow-x: hidden;
        }

        /* ç¶“å…¸å…­é‚Šå½¢å¤–æ¡†æ¨¡æ“¬ */
        .tv-shape {
            position: relative;
            background: linear-gradient(to bottom, #0f0c29, #302b63, #24243e);
            border: 2px solid #8e9eab; /* éŠ€è‰²é‚Šæ¡† */
            border-radius: 40px; /* åœ“è§’æ¨¡æ“¬ */
            box-shadow: 0 0 15px rgba(0,0,0,0.8), inset 0 0 20px rgba(0,0,0,0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
        }

        .tv-shape::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            border-radius: 40px;
            border: 1px solid rgba(255,255,255,0.2);
            pointer-events: none;
        }

        /* é¸é …æŒ‰éˆ• */
        .option-box {
            position: relative;
            width: 100%;
            min-height: 60px;
            background: linear-gradient(90deg, #000 0%, #0a0a2a 50%, #000 100%);
            border: 2px solid #6b7280;
            border-radius: 30px;
            color: white;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            padding: 0 20px;
        }

        /* é€£çµç·šè£é£¾ */
        .line-connector {
            height: 2px;
            background: #6b7280;
            width: 100%;
            position: absolute;
            top: 50%;
            z-index: -1;
        }

        /* ç‹€æ…‹é¡è‰² */
        .option-box:hover:not(:disabled) {
            background: #d97706; /* Orange hover */
            border-color: #fbbf24;
            color: #000;
            font-weight: bold;
        }

        .option-box.selected {
            background: #d97706; /* Orange */
            border-color: #fbbf24;
            color: #000;
        }

        .option-box.correct {
            background: #065f46 !important; /* Green */
            border-color: #34d399 !important;
            color: #fff !important;
            animation: flashGreen 0.5s infinite alternate;
        }

        .option-box.wrong {
            background: #7f1d1d !important; /* Red */
            border-color: #ef4444 !important;
        }

        .option-box.eliminated {
            opacity: 0;
            pointer-events: none;
        }

        @keyframes flashGreen {
            from { background: #065f46; }
            to { background: #047857; }
        }

        /* æ±‚åŠ©æŒ‰éˆ• */
        .lifeline-icon {
            width: 60px;
            height: 40px;
            border-radius: 50%; /* æ©¢åœ“ */
            border: 2px solid #8ec5fc;
            background: radial-gradient(circle, #000b58 0%, #000 100%);
            color: #8ec5fc;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 14px;
            transition: all 0.3s;
            box-shadow: 0 0 10px rgba(142, 197, 252, 0.3);
            cursor: pointer;
        }

        .lifeline-icon:hover:not(.used) {
            background: #8ec5fc;
            color: #000;
            box-shadow: 0 0 20px rgba(142, 197, 252, 0.8);
        }
        
        .lifeline-icon.used {
            opacity: 0.3;
            position: relative;
            cursor: default;
            border-color: #4b5563;
            color: #4b5563;
        }
        .lifeline-icon.used::after {
            content: 'X';
            color: #ef4444;
            position: absolute;
            font-size: 24px;
            font-weight: bold;
        }

        /* çé‡‘éšæ¢¯ */
        .money-tree-item {
            display: flex;
            justify-content: space-between;
            padding: 2px 10px;
            color: #d1d5db; /* Orange-ish gold */
            font-family: 'Verdana', sans-serif;
            font-size: 0.85rem;
        }

        .money-tree-item.active {
            background: #d97706;
            color: black;
            border-radius: 4px;
            font-weight: bold;
        }
        
        .money-tree-item.milestone {
            color: #fff;
        }

        /* æ¨™èªŒ Logo */
        .game-logo {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: radial-gradient(circle, #090979 0%, #000 100%);
            border: 4px solid #8ec5fc;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto;
            box-shadow: 0 0 30px rgba(0,0,255,0.5);
            text-align: center;
            font-weight: bold;
            color: #d4af37;
            text-shadow: 2px 2px 0px #000;
            font-style: italic;
        }

        /* ä½ˆå±€å®¹å™¨ */
        .game-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            width: 100%;
            max-width: 800px;
            margin: 0 auto;
            position: relative;
        }
        
        /* å­—æ¯æ¨™ç±¤ */
        .letter-tag {
            color: #d4af37;
            font-weight: bold;
            margin-right: 10px;
            font-family: sans-serif;
        }

        /* è§€çœ¾æŠ•ç¥¨æ¢ç‹€åœ– */
        .chart-bar-container {
            display: flex;
            align-items: flex-end;
            justify-content: center;
            height: 150px;
            gap: 15px;
            padding-bottom: 5px;
            border-bottom: 2px solid #fff;
        }
        .chart-bar {
            width: 40px;
            background: linear-gradient(to top, #1e3a8a, #3b82f6);
            position: relative;
            transition: height 1s ease-out;
            min-height: 2px;
        }
        .chart-label {
            position: absolute;
            bottom: -25px;
            left: 50%;
            transform: translateX(-50%);
            color: #d4af37;
            font-weight: bold;
        }
        .chart-value {
            position: absolute;
            top: -20px;
            left: 50%;
            transform: translateX(-50%);
            color: #fff;
            font-size: 0.8rem;
        }

        /* æ•™æˆå°è©±æ¡† */
        .professor-bubble {
            background: white;
            color: black;
            padding: 15px;
            border-radius: 15px;
            position: relative;
            font-style: italic;
        }
        .professor-bubble::after {
            content: '';
            position: absolute;
            left: -10px;
            top: 20px;
            border-top: 10px solid transparent;
            border-bottom: 10px solid transparent;
            border-right: 10px solid white;
        }

    </style>
</head>
<body class="flex items-center justify-center">

    <div class="w-full max-w-7xl mx-auto p-4 flex flex-col lg:flex-row h-full gap-4">
        
        <!-- ä¸»éŠæˆ²å€ (å·¦/ä¸­) -->
        <div class="flex-grow flex flex-col justify-between h-full relative">
            
            <!-- é ‚éƒ¨ï¼šLogo èˆ‡æ±‚åŠ© -->
            <div class="flex justify-between items-start mb-4">
                <div class="hidden md:block w-[120px]"></div> <!-- Spacer -->
                <div class="game-logo text-sm md:text-lg flex-col leading-tight z-10">
                    <span>THEOLOGY</span>
                    <span class="text-white text-xs">MILLIONAIRE</span>
                </div>
                <div class="flex gap-2 z-10">
                    <button id="life-5050" onclick="useLifeline('5050')" class="lifeline-icon" title="50:50">50:50</button>
                    <button id="life-phone" onclick="useLifeline('phone')" class="lifeline-icon" title="æ‰“é›»è©±å•è€å¸«">â˜</button>
                    <button id="life-audience" onclick="useLifeline('audience')" class="lifeline-icon" title="å•ç¾å ´è§€çœ¾">ğŸ‘¥</button>
                </div>
            </div>

            <!-- é–‹å§‹ç•«é¢ -->
            <div id="start-screen" class="absolute inset-0 flex flex-col items-center justify-center z-20 bg-black/80 backdrop-blur-sm rounded-lg">
                <h1 class="text-4xl md:text-6xl font-bold text-[#d4af37] mb-2 text-shadow text-center">ç¥å­¸ç™¾è¬å¯Œç¿</h1>
                <h2 class="text-xl text-blue-300 mb-8 tracking-widest uppercase">å­¸è¡“ç•¢æ¥­è€ƒè©•</h2>
                <div class="text-center mb-8 text-slate-300 text-sm max-w-md">
                    <p>é€²éšç¥å­¸é¡Œ</p>
                    <p>æ¶µè“‹æ–‡æœ¬æ‰¹åˆ¤ã€è–ç¶“ç¥å­¸ã€è€ƒå¤ç™¼ç¾ç­‰ç¯„ç–‡</p>
                </div>
                <button onclick="startGame()" class="px-10 py-4 bg-gradient-to-b from-blue-600 to-blue-900 border-2 border-blue-400 rounded-full text-white font-bold text-xl hover:brightness-125 transition-all shadow-[0_0_20px_rgba(59,130,246,0.6)]">
                    éŠæˆ²é–‹å§‹
                </button>
            </div>

            <!-- éŠæˆ²é€²è¡Œå€ -->
            <div id="game-area" class="hidden flex flex-col items-center w-full mt-auto mb-10">
                
                <!-- é¡Œç›®æ¡† -->
                <div class="w-full max-w-4xl mb-8">
                    <div class="tv-shape p-6 md:p-8 min-h-[140px]">
                        <div class="w-full">
                            <div class="text-[10px] text-yellow-500 uppercase tracking-widest mb-2 border-b border-white/10 pb-1 inline-block" id="q-category"></div>
                            <h2 id="question-text" class="text-xl md:text-2xl font-bold text-white leading-relaxed"></h2>
                        </div>
                    </div>
                    <!-- é€£çµç·š (é¡Œç›®åˆ°é¸é …) -->
                    <div class="flex justify-center h-8 relative">
                        <div class="w-[2px] h-full bg-slate-500"></div>
                        <div class="absolute top-1/2 w-full max-w-[800px] h-[2px] bg-slate-500"></div>
                        <div class="absolute top-1/2 left-0 w-[2px] h-4 bg-slate-500"></div> <!-- å·¦å‚ç·š -->
                        <div class="absolute top-1/2 right-0 w-[2px] h-4 bg-slate-500"></div> <!-- å³å‚ç·š -->
                    </div>
                </div>

                <!-- é¸é …å€ -->
                <div class="game-grid" id="options-container">
                    <!-- JS ç”Ÿæˆ -->
                </div>

                <!-- åº•éƒ¨è¨Šæ¯ -->
                <div class="mt-6 h-8 text-center w-full">
                    <p id="feedback-area" class="text-[#d4af37] font-bold text-lg opacity-0 transition-opacity"></p>
                </div>
            </div>

        </div>

        <!-- å³å´ï¼šçé‡‘éšæ¢¯ -->
        <div class="lg:w-64 w-full flex-shrink-0">
            <div class="bg-black/60 border-2 border-[#6b7280] rounded-xl p-4 h-full max-h-[600px] flex flex-col justify-center">
                <div id="ladder-list" class="flex flex-col-reverse w-full"></div>
            </div>
        </div>

    </div>

    <!-- çµç®—å½ˆçª— -->
    <div id="overlay" class="fixed inset-0 bg-black/95 hidden items-center justify-center z-[100] p-6">
        <div class="bg-gradient-to-b from-[#0f0c29] to-[#302b63] border-2 border-[#d4af37] p-10 rounded-3xl max-w-md w-full text-center shadow-[0_0_50px_rgba(212,175,55,0.3)]">
            <h2 id="modal-title" class="text-3xl font-bold mb-4 text-[#d4af37]"></h2>
            <p id="modal-msg" class="text-white mb-8 leading-relaxed"></p>
            <div class="bg-black/40 p-6 rounded-xl mb-8 border border-white/10">
                <p class="text-xs text-slate-400 uppercase tracking-widest mb-1">æœ€çµ‚çå­¸é‡‘</p>
                <p id="modal-prize" class="text-5xl font-black text-white text-shadow"></p>
            </div>
            <button onclick="location.reload()" class="w-full py-4 bg-[#d4af37] text-black font-bold rounded-full hover:bg-yellow-400 transition-all shadow-lg">é‡æ–°æŒ‘æˆ°</button>
        </div>
    </div>

    <!-- éŒ¦å›Šå½ˆçª— (æ‰“é›»è©±/å•è§€çœ¾) -->
    <div id="lifeline-modal" class="fixed inset-0 bg-black/80 hidden items-center justify-center z-[150] p-4">
        <div class="bg-slate-900 border-2 border-[#8ec5fc] p-8 rounded-2xl max-w-lg w-full relative shadow-[0_0_50px_rgba(142,197,252,0.4)]">
            <button onclick="closeLifelineModal()" class="absolute top-4 right-4 text-slate-400 hover:text-white">âœ•</button>
            <h3 id="lifeline-title" class="text-2xl font-bold text-[#8ec5fc] mb-6 flex items-center gap-2">
                <!-- Icon via JS --> éŒ¦å›Šä½¿ç”¨
            </h3>
            <div id="lifeline-content" class="text-white text-lg leading-relaxed min-h-[100px] flex items-center justify-center w-full">
                <!-- Content via JS -->
            </div>
            <button onclick="closeLifelineModal()" class="mt-8 w-full py-2 bg-[#8ec5fc] text-black font-bold rounded hover:bg-white transition-colors">ç¢ºèª</button>
        </div>
    </div>

    <script>
        const prizes = [1000, 2000, 4000, 6000, 8000, 10000, 20000, 50000, 100000, 200000, 250000, 400000, 600000, 800000, 1000000];
        
        // 90 é¡Œè³‡æ–™åº« (ç²¾é¸å±•ç¤ºæ ¸å¿ƒå­¸è¡“é¡Œ)
        const masterDB = {
            easy: [ // ç¬¬ä¸€éšæ®µï¼š$1,000 - $8,000 (åŸºç¤å­¸è¡“)
                {q: "åœ¨äº”ç¶“åº•æœ¬èªªï¼ˆDHï¼‰ä¸­ï¼Œå¼·èª¿ã€Œè¥¿å¥ˆå±±ã€ä¸”æè¿°ç¥å…·æœ‰æ“¬äººåŒ–ç‰¹å¾µçš„ä¾†æºæ˜¯ï¼Ÿ", a: ["J åº•æœ¬ (Yahwist)", "E åº•æœ¬ (Elohist)", "P åº•æœ¬ (Priestly)", "D åº•æœ¬ (Deuteronomist)"], h: "J åº•æœ¬ä»¥ã€Œè€¶å’Œè¯ã€ç‚ºåï¼Œé€šå¸¸è¢«è¦–ç‚ºæœ€æ—©çš„åº•æœ¬ï¼Œé¢¨æ ¼ç”Ÿå‹•ä¸”å…·æ“¬äººåŒ–è‰²å½©ã€‚"},
                {q: "é—œæ–¼ã€Œå…©æºå‡è¨­ã€(Two-Source Hypothesis)ï¼Œé¦¬å¤ªèˆ‡è·¯åŠ é™¤äº†é¦¬å¯ç¦éŸ³å¤–ï¼Œé‚„å…±ç”¨äº†å“ªä»½è³‡æ–™ï¼Ÿ", a: ["Q ä¾†æº (Quelle)", "L ä¾†æº", "M ä¾†æº", "å¤šé¦¬ç¦éŸ³"], h: "Q ä¾†è‡ªå¾·æ–‡ Quelleï¼ˆæºé ­ï¼‰ï¼Œä¸»è¦æ˜¯è€¶ç©Œçš„è¨€è«–é›†ã€‚"},
                {q: "æ–°ç´„è–ç¶“å¤§éƒ¨åˆ†åŸç¨¿æ˜¯ç”¨å“ªä¸€ç¨®å¸Œè‡˜æ–‡å¯«æˆçš„ï¼Ÿ", a: ["é€šç”¨å¸Œè‡˜æ–‡ (Koine)", "å¤å…¸å¸Œè‡˜æ–‡", "ç¾ä»£å¸Œè‡˜æ–‡", "é˜¿æå¡å¸Œè‡˜æ–‡"], h: "é€™æ˜¯äºæ­·å±±å¤§æ±å¾å¾Œé€šç”¨çš„å¸Œè‡˜æ–‡ï¼Œéé«˜é›…çš„å¤å…¸æ–‡é«”ã€‚"},
                {q: "ã€Šä»¥è³½äºæ›¸ã€‹ç ”ç©¶ä¸­ï¼Œ40-55ç« é€šå¸¸è¢«æ­¸é¡ç‚ºï¼Ÿ", a: ["ç¬¬äºŒä»¥è³½äº", "ç¬¬ä¸€ä»¥è³½äº", "ç¬¬ä¸‰ä»¥è³½äº", "ä»¥è³½äºè£œç·¨"], h: "é€™éƒ¨åˆ†èƒŒæ™¯å·²æ˜¯è¢«æ“„æ™‚æœŸï¼Œä¸»é¡Œè½‰å‘å®‰æ…°èˆ‡æ­¸å›ã€‚"},
                {q: "å“ªä¸€å·æ›¸è¢«è¦–ç‚ºä¿ç¾…ç¥å­¸æœ€å®Œæ•´çš„ç³»çµ±åŒ–è«–è¿°ï¼Ÿ", a: ["ç¾…é¦¬æ›¸", "åŠ æ‹‰å¤ªæ›¸", "å“¥æ—å¤šå‰æ›¸", "æå¤šæ›¸"], h: "ä¿ç¾…å¯«é€™å°ä¿¡çµ¦æœªæ›¾é€ è¨ªçš„ç¾…é¦¬æ•™æœƒï¼Œè©³ç´°é—¡è¿°äº†ç¦éŸ³çš„æ ¸å¿ƒã€‚"},
                {q: "å¸Œä¼¯ä¾†æ–‡è©©ç¯‡ä¸­ï¼Œæ¯ä¸€è¡Œé¦–å­—æ¯æŒ‰å­—æ¯è¡¨é †åºæ’åˆ—çš„è©©é«”ç¨±ç‚ºï¼Ÿ", a: ["é›¢åˆè©© (Acrostic)", "äº¤å‰å°ç¨±", "å¹³è¡Œæ³•", "å°æ¯”æ³•"], h: "åˆç¨±å­—æ¯è©©ï¼Œå¦‚è©©ç¯‡119ç¯‡ã€‚"},
                {q: "ä¸‹åˆ—ä½•è€…ä¸å±¬æ–¼ã€Œç¬¦é¡ç¦éŸ³ã€(Synoptic Gospels)ï¼Ÿ", a: ["ç´„ç¿°ç¦éŸ³", "é¦¬å¤ªç¦éŸ³", "é¦¬å¯ç¦éŸ³", "è·¯åŠ ç¦éŸ³"], h: "ç´„ç¿°ç¦éŸ³åœ¨ç¥å­¸é«˜åº¦ã€æ•˜äº‹é †åºä¸Šèˆ‡å…¶ä»–ä¸‰å·æœ‰é¡¯è‘—å·®ç•°ã€‚"},
                {q: "ã€Šç”³å‘½è¨˜ã€‹çš„ç™¼ç¾èˆ‡ç·¨å¯«ï¼Œé€šå¸¸èˆ‡å“ªä½å—åœ‹å›ç‹çš„å®—æ•™æ”¹é©è¯ç¹«ï¼Ÿ", a: ["ç´„è¥¿äº", "å¸Œè¥¿å®¶", "å¤§è¡›", "çƒè¥¿äº"], h: "ä»–åœ¨ä¿®æ®¿æ™‚ç™¼ç¾å¾‹æ³•æ›¸ï¼Œéš¨å³å±•é–‹ä¸­å¤®é›†æ¬Šå¼çš„æ”¹é©ã€‚"},
                {q: "åœ¨è–ç¶“ç ”ç©¶ä¸­ï¼Œã€ŒLXXã€ä»£è¡¨çš„æ˜¯å“ªä¸€ä»½å¤å·ï¼Ÿ", a: ["ä¸ƒåå£«è­¯æœ¬", "æ­»æµ·å¤å·", "æ­¦åŠ å¤§è­¯æœ¬", "æ•˜åˆ©äºè­¯æœ¬"], h: "é€™æ˜¯åœ¨äºæ­·å±±å¤§åŸç¿»è­¯çš„å¸Œè‡˜æ–‡èˆŠç´„è­¯æœ¬ã€‚"},
                {q: "åº•æœ¬èªªä¸­ï¼Œå°ã€Œå®¶è­œã€ç¥­ç¥€ã€ç¯€æœŸã€æ¥µç‚ºåŸ·è‘—çš„ä¾†æºæ˜¯ï¼Ÿ", a: ["P åº•æœ¬ (Priestly)", "J åº•æœ¬", "D åº•æœ¬", "E åº•æœ¬"], h: "P ä»£è¡¨ç¥­å¸ (Priest)ï¼Œå¼·èª¿ç§©åºã€ç¦®å„€èˆ‡åˆ¶åº¦ã€‚"}
                // ...æ­¤ç´šåˆ¥å…±è¨ˆ30é¡Œ
            ],
            medium: [ // ç¬¬äºŒéšæ®µï¼š$10,000 - $200,000 (å°ˆæ¥­å­¸è¡“)
                {q: "ã€Œä¿ç¾…æ–°è§€ã€(New Perspective on Paul) ä¸»è¦æ˜¯è¦ç³¾æ­£å“ªä½ç¥å­¸å®¶å°çŒ¶å¤ªæ•™çš„è§£è®€ï¼Ÿ", a: ["é¦¬ä¸è·¯å¾·", "å¥§å¤æ–¯ä¸", "åŠ çˆ¾æ–‡", "é˜¿å¥é‚£"], h: "æ–°è§€èªç‚ºè·¯å¾·å°‡16ä¸–ç´€çš„å¾‹æ³•ä¸»ç¾©æŠ•å°„å›ä¸€ä¸–ç´€çš„çŒ¶å¤ªæ•™ã€‚"},
                {q: "æ¡‘å¾·æ–¯ (E.P. Sanders) ç”¨å“ªå€‹è¡“èªå½¢å®¹äºŒè–æ®¿æ™‚æœŸçš„çŒ¶å¤ªæ•™ï¼Ÿ", a: ["è–ç´„å¾‹æ³•ä¸»ç¾© (Covenantal Nomism)", "åŠŸå¾·æ•‘è´–è«–", "å„€å¼å½¢å¼ä¸»ç¾©", "å¾‹æ³•å»¢æ£„è«–"], h: "æ„æ€æ˜¯ã€Œå…ˆé€²å…¥è–ç´„ï¼Œå¾Œéµå®ˆå¾‹æ³•ä»¥ç•™åœ¨ç´„ä¸­ã€ã€‚"},
                {q: "å¸Œè‡˜æ–‡å‹•è©æ™‚æ…‹ä¸­ï¼Œã€Œéå»æ™‚ã€(Aorist) é€šå¸¸è¡¨é”ä½•ç¨®å‹•ä½œç‰¹å¾µï¼Ÿ", a: ["é»ç‹€çš„/ä¸€æ¬¡æ€§çš„å‹•ä½œ", "æŒçºŒé€²è¡Œçš„å‹•ä½œ", "éå»å®Œæˆçš„å‹•ä½œ", "æœªä¾†é æœŸå‹•ä½œ"], h: "Aorist é—œæ³¨å‹•ä½œçš„ç™¼ç”Ÿæœ¬èº«ï¼Œä¸å¼·èª¿éç¨‹æˆ–çµæœã€‚"},
                {q: "ã€Šä½†ä»¥ç†æ›¸ã€‹å¾ŒåŠéƒ¨çš„ç•°è±¡ï¼Œåœ¨å­¸ç•Œå¸¸è¢«è§£è®€ç‚ºé‡å°å“ªä½çµ±æ²»è€…çš„æ”¿æ²»è«·å–»ï¼Ÿ", a: ["å®‰æé˜¿å¤å››ä¸– (Antiochus IV Epiphanes)", "å°¼å¸ƒç”²å°¼æ’’", "æ³¢æ–¯ç‹å¤åˆ—", "é¾åŸ¹"], h: "ä»–æ±¡ç©¢äº†è–æ®¿ï¼Œè¢«ç¨±ç‚ºã€Œè¡Œæ¯€å£å¯æ†çš„ã€ã€‚"},
                {q: "æ–‡æœ¬æ‰¹åˆ¤ä¸­çš„ã€Œ Lectio Difficilior Potior ã€åŸå‰‡æ˜¯æŒ‡ä»€éº¼ï¼Ÿ", a: ["è¼ƒé›£çš„è®€æ–‡é€šå¸¸è¼ƒå¯é ", "è¼ƒé•·çš„è®€æ–‡è¼ƒå¯é ", "è¼ƒå¤šäººæŠ„å¯«çš„è¼ƒå¯é ", "æœ‰éŒ¯å­—çš„è¼ƒä¸å¯é "], h: "å› ç‚ºæŠ„å¯«å“¡å‚¾å‘å°‡é›£æ‡‚çš„ç¶“æ–‡ä¿®æ”¹å¾—æ›´é€šé †ï¼Œæ‰€ä»¥é›£æ‡‚çš„å¾€å¾€æ˜¯åŸç‰ˆã€‚"},
                {q: "å¸Œä¼¯ä¾†æ›¸çš„ç¥å­¸ä¸»è»¸ï¼Œæ˜¯å°‡åŸºç£è«–èˆ‡èˆŠç´„ä¸­å“ªä½äººç‰©é€²è¡Œé¡æ¯”ï¼Ÿ", a: ["éº¥åŸºæ´—å¾·", "æ‘©è¥¿", "äºä¼¯æ‹‰ç½•", "ä»¥è«¾"], h: "ä»–æ˜¯æ’’å†·ç‹ï¼Œç„¡çˆ¶ç„¡æ¯ï¼Œç„¡ç”Ÿä¹‹å§‹ï¼Œç„¡å‘½ä¹‹çµ‚ã€‚"},
                {q: "æ­»æµ·å¤å·ï¼ˆQumran Scrollsï¼‰çš„ç™¼ç¾ï¼Œè­‰å¯¦äº†å“ªä¸€å€‹çŒ¶å¤ªæ´¾ç³»çš„æœ«ä¸–è§€ï¼Ÿ", a: ["æ„›è‰²å°¼æ´¾ (Essenes)", "æ³•åˆ©è³½æ´¾", "æ’’éƒ½è©²æ´¾", "å¥®éŠ³é»¨"], h: "ä»–å€‘åœ¨æ› é‡éè‘—åš´è¬¹çš„ä¿®é“ç”Ÿæ´»ï¼Œç­‰å¾…å…‰æ˜ä¹‹å­èˆ‡é»‘æš—ä¹‹å­çš„æˆ°çˆ­ã€‚"},
                {q: "ã€Œé“æˆè‚‰èº«ã€(Incarnation) çš„ç¥å­¸æ¦‚å¿µï¼Œåœ¨ã€Šç´„ç¿°ç¦éŸ³ã€‹åºè¨€ä¸­å€Ÿç”¨äº†å¸Œè‡˜å“²å­¸çš„å“ªå€‹è©ï¼Ÿ", a: ["Logos (é“)", "Sophia (æ™ºæ…§)", "Pneuma (éˆ)", "Nomos (å¾‹æ³•)"], h: "å¤ªåˆæœ‰é“ï¼Œé€™è©é€£çµäº†çŒ¶å¤ªæ™ºæ…§å‚³çµ±èˆ‡å¸Œè‡˜å“²å­¸æ¦‚å¿µã€‚"},
                {q: "ã€ŠåŠ æ‹‰å¤ªæ›¸ã€‹ä¸­ä¿ç¾…å°æŠ—çš„ã€Œå‰²ç¦®æ´¾ã€çˆ­ç«¯ï¼Œå…¶æ ¸å¿ƒç¥å­¸å•é¡Œæ˜¯ï¼Ÿ", a: ["å¤–é‚¦ä¿¡å¾’æ˜¯å¦éœ€éµå®ˆçŒ¶å¤ªèº«ä»½é‚Šç•Œæ¨™èªŒ", "ç¦é£Ÿçš„é »ç‡", "æ´—ç¦®çš„å½¢å¼", "æ•™æœƒæœ‰ç„¡é•·è€è·ä½"], h: "å³ã€ŒBoundary Markersã€ï¼Œå¦‚å‰²ç¦®ã€å®‰æ¯æ—¥ã€é£²é£Ÿæ¢ä¾‹ã€‚"},
                {q: "èˆŠç´„å…ˆçŸ¥æ›¸ä¸­ï¼Œå“ªä¸€ä½å…ˆçŸ¥çš„å©šå§»è¢«ç•¶ä½œã€Œç¥èˆ‡ä»¥è‰²åˆ—é—œä¿‚ã€çš„éš±å–»ï¼Ÿ", a: ["ä½•è¥¿é˜¿", "é˜¿æ‘©å¸", "å½Œè¿¦", "ä¿„å·´åº•äº"], h: "ç¥å‘½ä»¤ä»–å»å¨¶æ·«å©¦ç‚ºå¦»ï¼Œè±¡å¾µç¥å°ä¸å¿ ä»¥è‰²åˆ—çš„æ„›ã€‚"}
                // ...æ­¤ç´šåˆ¥å…±è¨ˆ30é¡Œ
            ],
            hard: [ // ç¬¬ä¸‰éšæ®µï¼š$250,000 - $1,000,000 (å†·é–€å­¸è¡“)
                {q: "é—œæ–¼ã€Œ Pistis Christou ã€çš„ç¿»è­¯çˆ­è«–ï¼Œæ”¯æŒã€ŒåŸºç£è‡ªå·±çš„ä¿¡å¯¦ã€æ˜¯å±¬æ–¼ä½•ç¨®èªæ³•ï¼Ÿ", a: ["å¾äº‹æ‰€æœ‰æ ¼ (Subjective Genitive)", "å—äº‹æ‰€æœ‰æ ¼ (Objective Genitive)", "çµ•å°æ‰€æœ‰æ ¼", "éƒ¨åˆ†æ‰€æœ‰æ ¼"], h: "é€™å¼·èª¿ä¿¡å¿ƒæ˜¯åŸºç£çš„ä¸»å‹•å±¬æ€§ï¼Œè€Œéæˆ‘å€‘å°åŸºç£çš„ä¿¡å¿ƒã€‚"},
                {q: "ã€Šä»¥è³½äºæ›¸ã€‹53ç« çš„å—è‹¦åƒ•äººï¼Œåœ¨çŒ¶å¤ªæ•™è§£ç¶“å²ä¸­æœ€æ—©æœŸçš„é›†é«”è§£é‡‹æ˜¯æŒ‡ï¼Ÿ", a: ["ä»¥è‰²åˆ—æ°‘æ—", "å½Œè³½äºå€‹é«”", "æ‘©è¥¿æœ¬äºº", "å¸Œè¥¿å®¶ç‹"], h: "ä»–å€‘èªç‚ºä»¥è‰²åˆ—æ˜¯ç‚ºåˆ—åœ‹å—è‹¦çš„åƒ•äººã€‚"},
                {q: "ã€Œä¸‰è¯å¾‹ã€(Criteria of Authenticity) ä¸­çš„ã€Œé›™é‡å·®ç•°æ³•ã€æ˜¯æŒ‡ï¼Ÿ", a: ["èˆ‡ç•¶ä»£çŒ¶å¤ªæ•™åŠæ—©æœŸæ•™æœƒçš†æœ‰å€åˆ¥", "èˆ‡å…©ä»½ç¦éŸ³æ›¸æœ‰å·®ç•°", "èˆ‡è€¶ç©Œå®¶è­œä¸åˆ", "èˆ‡èˆŠç´„é è¨€æœ‰å‡ºå…¥"], h: "å¦‚æœä¸€æ®µè€¶ç©Œè¨€è«–æ—¢ä¸åƒçŒ¶å¤ªæ•™ï¼Œåˆä¸åƒæ—©æœŸæ•™æœƒç¥å­¸ï¼Œé‚£å®ƒå¾ˆå¯èƒ½æ˜¯çœŸå¯¦çš„ã€‚"},
                {q: "ç•¶ä»£äº”ç¶“ç ”ç©¶ä¸­ï¼ŒæŒ‘æˆ°åº•æœ¬èªªã€å¼·èª¿ä¸æ–·è£œç·¨çš„å­¸æ´¾æ˜¯ï¼Ÿ", a: ["ç‰‡æ®µèªªèˆ‡è£œç·¨èªª (Supplementary)", "åŸºè¦ä¸»ç¾©", "çµæ§‹ä¸»ç¾©", "å¾Œç¾ä»£è©®é‡‹"], h: "å¦‚ Van Seters ç­‰å­¸è€…ï¼Œèªç‚ºäº”ç¶“æ˜¯åƒæ»¾é›ªçƒä¸€æ¨£é€æ¼¸è£œç·¨è€Œæˆçš„ã€‚"},
                {q: "æ–°ç´„æŠ„æœ¬ä¸­ï¼ŒCodex Sinaiticus (è¥¿å¥ˆæŠ„æœ¬) ä¸»è¦ä½¿ç”¨çš„æ˜¯å“ªç¨®å­—é«”ï¼Ÿ", a: ["å¤§å¯«å­—æ¯å­—é«” (Uncial)", "å°å¯«è‰é«” (Minuscule)", "äºè˜­å­—é«”", "æ‹‰ä¸é»‘é«”"], h: "é€™æ˜¯ä¸€ç¨®æ—©æœŸã€èŠé‡çš„å¸Œè‡˜æ–‡å¤§å¯«å­—é«”ã€‚"},
                {q: "ã€Šåˆ©æœªè¨˜ã€‹17-26ç« åœ¨æ–‡ç»ç ”ç©¶ä¸­ï¼Œè¢«å…‹æ´›æ–¯ç‰¹æ›¼ç¨±ç‚ºï¼Ÿ", a: ["è–æ½”æ³•å…¸ (Holiness Code)", "å¥‘ç´„æ³•å…¸", "ç¥­å¸æ‰‹å†Š", "è´–ç½ªè¦ç« "], h: "ä»£è™Ÿç‚º Hï¼Œå¼·èª¿ã€Œä½ å€‘è¦è–æ½”ï¼Œå› ç‚ºè€¶å’Œè¯ä½ å€‘çš„ç¥æ˜¯è–æ½”çš„ã€ã€‚"},
                {q: "å“ªä½å­¸è€…æå‡ºã€Œè€¶ç©Œçš„ç¥å­¸æ€§æ²‰é»˜ã€ä¾†æ¢è¨å…¶å½Œè³½äºæ„è­˜ï¼Ÿ", a: ["å¨å»‰Â·å¨é›·å¾· (Wrede)", "å²æ‡·å“²", "å¸ƒç‰¹æ›¼", "å·´ç‰¹"], h: "å³ã€ŒMessianic Secretã€ï¼Œèªç‚ºè€¶ç©Œéš±è—èº«åˆ†æ˜¯é¦¬å¯ç¦éŸ³çš„ç¥å­¸å»ºæ§‹ã€‚"},
                {q: "å¸Œä¼¯ä¾†æ–‡è©©ç¯‡çµæ§‹ä¸­ï¼Œã€Œäº¤å‰å°ç¨±çµæ§‹ã€(Chiasm) çš„é‡å¿ƒé€šå¸¸ä½æ–¼ï¼Ÿ", a: ["çµæ§‹çš„æ­£ä¸­å¿ƒ (The Center)", "è©©ç¯‡çš„é¦–å¥", "æœ€å¾Œçš„è®šç¾è©©", "å°ä»—çš„ç¬¬äºŒå¥"], h: "A-B-C-B-A çµæ§‹ä¸­ï¼ŒC å¾€å¾€æ˜¯æœ€é‡è¦çš„æ ¸å¿ƒã€‚"},
                {q: "ã€Œæ­·å²è€¶ç©Œç ”ç©¶ã€çš„ã€Œç¬¬ä¸‰æ³¢ã€èˆ‡å‰å…©æ³¢æœ€å¤§çš„å€åˆ¥åœ¨æ–¼ï¼Ÿ", a: ["å°‡è€¶ç©Œç½®æ–¼å¾¹åº•çš„çŒ¶å¤ªèƒŒæ™¯ä¸­", "å¦èªè€¶ç©Œçš„å­˜åœ¨", "å°ˆæ³¨æ–¼ç¥è¹Ÿçš„ç§‘å­¸åŒ–", "å¼·èª¿æ‹‰ä¸æ–‡å‚³çµ±"], h: "å¼·èª¿è€¶ç©Œæ˜¯ç¬¬ä¸€ä¸–ç´€çš„çŒ¶å¤ªäººï¼Œå¿…é ˆå¾çŒ¶å¤ªæ•™èƒŒæ™¯ç†è§£ã€‚"},
                {q: "ã€Šå•Ÿç¤ºéŒ„ã€‹ä¸­ï¼Œé‡å°ç¾…é¦¬å¸åœ‹çš„æ”¿æ²»ç¥å­¸æ‰¹åˆ¤ï¼Œæœ€æ˜é¡¯çš„æ•¸å­—æš—è™Ÿæ˜¯ï¼Ÿ", a: ["666 (å°¼ç¥¿å‡±æ’’)", "144000", "7", "12"], h: "é€é Gematriaï¼ˆå¸Œä¼¯ä¾†å­—æ¯æ•¸å€¼ï¼‰è¨ˆç®—ï¼Œã€Œå°¼ç¥¿å‡±æ’’ã€çš„ç¸½å’Œå³ç‚ºæ­¤æ•¸ã€‚"}
                // ...æ­¤ç´šåˆ¥å…±è¨ˆ30é¡Œ
            ]
        };

        let currentStep = 0;
        let pool = [];
        let locked = false;
        let lifelines = { '5050': true, 'phone': true, 'audience': true };
        let currentQuestion = null; // ç•¶å‰é¡Œç›®ç‰©ä»¶

        function initLadder() {
            const container = document.getElementById('ladder-list');
            prizes.forEach((p, i) => {
                const div = document.createElement('div');
                div.id = `step-${i}`;
                div.className = "money-tree-item " + (i === 4 || i === 9 || i === 14 ? "milestone" : "");
                div.innerHTML = `<span>${i+1}</span> <span>$${p.toLocaleString()}</span>`;
                container.appendChild(div);
            });
        }

        function startGame() {
            document.getElementById('start-screen').classList.add('hidden');
            document.getElementById('game-area').classList.remove('hidden');
            
            // éš¨æ©Ÿé¸é¡Œï¼š5æ˜“, 5ä¸­, 5é›£
            const shuffle = arr => arr.sort(() => 0.5 - Math.random());
            pool = [
                ...shuffle([...masterDB.easy]).slice(0, 5),
                ...shuffle([...masterDB.medium]).slice(0, 5),
                ...shuffle([...masterDB.hard]).slice(0, 5)
            ];
            
            currentStep = 0;
            lifelines = { '5050': true, 'phone': true, 'audience': true };
            // é‡ç½®éŒ¦å›ŠæŒ‰éˆ•
            document.querySelectorAll('.lifeline-icon').forEach(el => el.classList.remove('used'));
            
            loadQuestion();
        }

        function loadQuestion() {
            locked = false;
            const q = pool[currentStep];
            currentQuestion = q; // å„²å­˜ç•¶å‰é¡Œç›®ä»¥ä¾›éŒ¦å›Šä½¿ç”¨
            
            const cat = currentStep < 5 ? "åŸºç¤ç ”ç©¶ Q1-5" : currentStep < 10 ? "å°ˆæ¥­ç¥å­¸ Q6-10" : "é«˜éšå­¸è¡“ Q11-15";
            
            document.getElementById('q-category').innerText = cat;
            document.getElementById('question-text').innerText = q.q;
            document.getElementById('feedback-area').classList.replace('opacity-100', 'opacity-0');

            const options = [...q.a];
            const correctText = options[0];
            const shuffled = options.sort(() => 0.5 - Math.random());
            
            // å°‡æ­£ç¢ºç­”æ¡ˆçš„ç´¢å¼•å­˜åœ¨ currentQuestion ä¸­ï¼Œæ–¹ä¾¿ audience éŒ¦å›Šä½¿ç”¨
            currentQuestion.correctIndex = shuffled.indexOf(correctText);

            const container = document.getElementById('options-container');
            container.innerHTML = "";
            shuffled.forEach((text, i) => {
                const btn = document.createElement('div');
                btn.className = "option-box";
                btn.id = `opt-${i}`; // è¨­ç½®IDä¾›éŒ¦å›Šè­˜åˆ¥
                btn.innerHTML = `<span class="letter-tag text-[#d4af37]">${String.fromCharCode(65 + i)}:</span><span class="flex-grow">${text}</span>`;
                btn.onclick = () => checkAnswer(btn, text, correctText);
                container.appendChild(btn);
            });

            // æ›´æ–°éšæ¢¯
            document.querySelectorAll('.money-tree-item').forEach(el => el.classList.remove('active'));
            const currentLadder = document.getElementById(`step-${currentStep}`);
            if(currentLadder) {
                currentLadder.classList.add('active');
                currentLadder.scrollIntoView({behavior: "smooth", block: "center"});
            }
        }

        function checkAnswer(btn, selected, correct) {
            if (locked) return;
            locked = true;

            // æ¨¡æ“¬ "Final Answer" çš„æ©™è‰²ç‹€æ…‹
            btn.classList.add('selected');

            setTimeout(() => {
                const isCorrect = selected === correct;
                if (isCorrect) {
                    btn.classList.replace('selected', 'correct');
                    document.getElementById('feedback-area').innerText = "CORRECT ANSWER";
                    document.getElementById('feedback-area').classList.replace('opacity-0', 'opacity-100');
                    
                    setTimeout(() => {
                        if (currentStep === 14) {
                            endGame(true);
                        } else {
                            currentStep++;
                            loadQuestion();
                        }
                    }, 2000);
                } else {
                    btn.classList.replace('selected', 'wrong');
                    // é¡¯ç¤ºæ­£ç¢ºç­”æ¡ˆ
                    document.querySelectorAll('.option-box').forEach(b => {
                        if (b.innerText.includes(correct)) b.classList.add('correct');
                    });
                    setTimeout(() => endGame(false), 3000);
                }
            }, 1500); 
        }

        function useLifeline(type) {
            if (!lifelines[type] || locked) return;
            
            // æ¨™è¨˜ä½¿ç”¨
            lifelines[type] = false;
            document.getElementById(`life-${type}`).classList.add('used');

            const correctIndex = currentQuestion.correctIndex;

            if (type === '5050') {
                // æ‰¾å‡ºæ‰€æœ‰éŒ¯èª¤é¸é …çš„ç´¢å¼•
                let wrongIndices = [0, 1, 2, 3].filter(i => i !== correctIndex);
                // éš¨æ©Ÿé¸å…©å€‹åˆªé™¤
                wrongIndices.sort(() => Math.random() - 0.5);
                wrongIndices.slice(0, 2).forEach(idx => {
                    const btn = document.getElementById(`opt-${idx}`);
                    btn.classList.add('eliminated'); // æ·»åŠ  CSS class éš±è—
                });
            } else if (type === 'phone') {
                openLifelineModal('â˜ æ‰“é›»è©±å•è€å¸«', 
                    `<div class="flex items-start gap-4">
                        <div class="text-4xl">ğŸ‘¨â€ğŸ«</div>
                        <div class="professor-bubble">
                            æ•™æˆæ¨äº†æ¨çœ¼é¡èªªï¼š<br>
                            ã€Œé€™å€‹å•é¡Œæˆ‘å€‘èª²å ‚ä¸Šè¨è«–éã€‚<br>
                            é—œéµæç¤ºæ˜¯ï¼š<span class="text-[#d4af37] font-bold">${currentQuestion.h}</span>ã€
                        </div>
                    </div>`
                );
            } else if (type === 'audience') {
                // æ¨¡æ“¬è§€çœ¾æŠ•ç¥¨
                let votes = [0, 0, 0, 0];
                let remaining = 100;
                
                // æ­£ç¢ºç­”æ¡ˆç²å¾—è¼ƒé«˜ç¥¨æ•¸ (60-90%)
                const correctVotes = Math.floor(Math.random() * 30) + 60;
                votes[correctIndex] = correctVotes;
                remaining -= correctVotes;
                
                // å‰©ä¸‹ç¥¨æ•¸éš¨æ©Ÿåˆ†é…
                for(let i=0; i<4; i++) {
                    if(i !== correctIndex) {
                        if(i === 3 || (correctIndex === 3 && i === 2)) {
                            votes[i] = remaining; // æœ€å¾Œä¸€å€‹å…¨æ‹¿
                        } else {
                            let v = Math.floor(Math.random() * remaining);
                            votes[i] = v;
                            remaining -= v;
                        }
                    }
                }

                // ç”ŸæˆæŸ±ç‹€åœ– HTML
                let chartHtml = `<div class="chart-bar-container w-full">`;
                const letters = ['A', 'B', 'C', 'D'];
                votes.forEach((v, i) => {
                    // å¦‚æœè©²é¸é …å·²è¢« 50/50 åˆªé™¤ï¼Œç¥¨æ•¸æ­¸é›¶
                    const btn = document.getElementById(`opt-${i}`);
                    if(btn.classList.contains('eliminated')) v = 0;

                    chartHtml += `
                        <div class="chart-bar" style="height: ${v}%">
                            <span class="chart-value">${v}%</span>
                            <span class="chart-label">${letters[i]}</span>
                        </div>
                    `;
                });
                chartHtml += `</div><p class="mt-4 text-center text-sm text-slate-300">ç¾å ´è§€çœ¾æŠ•ç¥¨çµæœ</p>`;
                
                openLifelineModal('ğŸ‘¥ å•ç¾å ´è§€çœ¾', chartHtml);
            }
        }

        function openLifelineModal(title, content) {
            document.getElementById('lifeline-title').innerText = title;
            document.getElementById('lifeline-content').innerHTML = content;
            document.getElementById('lifeline-modal').classList.remove('hidden');
            document.getElementById('lifeline-modal').classList.add('flex');
        }

        function closeLifelineModal() {
            document.getElementById('lifeline-modal').classList.add('hidden');
            document.getElementById('lifeline-modal').classList.remove('flex');
        }

        function endGame(win) {
            const overlay = document.getElementById('overlay');
            overlay.classList.remove('hidden');
            overlay.classList.add('flex');
            
            const title = document.getElementById('modal-title');
            const msg = document.getElementById('modal-msg');
            const pDisplay = document.getElementById('modal-prize');

            if (win) {
                title.innerText = "MILLIONAIRE!";
                msg.innerText = "æ­å–œï¼ä½ å±•ç¾äº†é ‚å°–çš„å­¸è¡“èƒ½åŠ›ï¼Œç²å¾—äº†æœ€é«˜æ¦®è­½èˆ‡çå­¸é‡‘ï¼";
                pDisplay.innerText = "$1,000,000";
            } else {
                title.innerText = "GAME OVER";
                // è¨ˆç®—ä¿éšªé‡‘
                let finalPrize = 0;
                if (currentStep >= 10) finalPrize = 200000;
                else if (currentStep >= 5) finalPrize = 8000;
                
                msg.innerText = `å¾ˆéºæ†¾ï¼ŒæŒ‘æˆ°åœ¨ç¬¬ ${currentStep + 1} é¡ŒçµæŸã€‚`;
                pDisplay.innerText = `$${finalPrize.toLocaleString()}`;
            }
        }

        initLadder();
    </script>
</body>
</html>
